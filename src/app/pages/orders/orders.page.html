<ion-header [translucent]="true">
  <ion-toolbar color="dark">
    <ion-buttons>
      <ion-menu-button menu="sidebar" color="warning"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content color="dark">
    <div class="banner">
      <ion-title class="titulo">Gesti√≥n de pedidos</ion-title>
    </div>



  <ion-title>Pendientes</ion-title>
  <ion-grid>
    <ion-row *ngFor="let clientOrder of pendingClientOrderResponse">
      <ion-col size="11">
        <ion-accordion-group [multiple]="true" [value]="pendingOrdersId">

          <ion-accordion value="{{clientOrder.id}}">
            <ion-item slot="header" class="{{clientOrder.state.name.toLowerCase()}}-style">
              <ion-label>Orden #{{clientOrder.orderId}} | Mesa: {{clientOrder.tableName}}</ion-label>
            </ion-item>
              <ion-item *ngFor="let item of clientOrder.clientOrderItemList" slot="content">
                <ion-label>{{item.quantity}} {{item.itemName}} {{item.description}} ({{item.additionalComments}})</ion-label>
              </ion-item>
          </ion-accordion>

        </ion-accordion-group>
      </ion-col>
      <ion-col size="1">
        <ion-row>
          <ion-button fill="outline" class="center" color="warning" (click)="changeState(clientOrder.id,'FINALIZADO')">
            <ion-icon name="checkmark-outline"></ion-icon>
          </ion-button>
          <ion-button fill="outline" class="center" color="warning" (click)="changeState(clientOrder.id,'CANCELADO')">
            <ion-icon name="close-outline"></ion-icon>
          </ion-button>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-title>Finalizados/Cancelados</ion-title>
  <ion-grid>
    <ion-row *ngFor="let clientOrder of finishedClientOrderResponse">
      <ion-col size="11">
      <ion-accordion-group [multiple]="true" [value]="[clientOrder.id]">

        <ion-accordion value="{{clientOrder.id}}">
          <ion-item slot="header" class="{{clientOrder.state.name.toLowerCase()}}-style">
            <ion-label>[{{clientOrder.orderId}}] - {{clientOrder.tableName}}</ion-label>
          </ion-item>

          <ion-item *ngFor="let item of clientOrder.clientOrderItemList" slot="content">
            <ion-label>{{item.quantity}} {{item.itemName}} {{item.description}} ({{item.additionalComments}})</ion-label>
          </ion-item>

        </ion-accordion>
      </ion-accordion-group>
      </ion-col>
      <ion-col size="1">
        <ion-row>
          <ion-button *ngIf="clientOrder.state.name !== 'FINALIZADO'" fill="outline" class="center" color="warning" (click)="changeState(clientOrder.id,'FINALIZADO')">
            <ion-icon name="checkmark-outline"></ion-icon>
          </ion-button>
          <ion-button *ngIf="clientOrder.state.name !== 'CANCELADO'" fill="outline" class="center" color="warning" (click)="changeState(clientOrder.id,'CANCELADO')">
            <ion-icon name="close-outline"></ion-icon>
          </ion-button>
          <ion-button fill="outline" class="center" color="warning" (click)="changeState(clientOrder.id,'PENDIENTE')">
            <ion-icon name="alarm-sharp"></ion-icon>
          </ion-button>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>


